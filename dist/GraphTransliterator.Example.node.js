!function(e){var t={};function s(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=0)}([function(e,t,s){const n=s(1),r=s(2).default.GraphTransliterator.fromDict(n);e.exports=r},function(e){e.exports=JSON.parse('{"tokens":{"a":["vowel"]," ":["whitespace"],"b":["consonant"]},"rules":[{"production":"!B!","prev_classes":["consonant"],"prev_tokens":["a"],"tokens":["b"],"next_classes":["consonant"],"next_tokens":["a"],"cost":0.22239242133644802},{"production":"A","prev_classes":null,"prev_tokens":null,"tokens":["a"],"next_classes":null,"next_tokens":null,"cost":0.5849625007211562},{"production":"B","prev_classes":null,"prev_tokens":null,"tokens":["b"],"next_classes":null,"next_tokens":null,"cost":0.5849625007211562},{"production":" ","prev_classes":null,"prev_tokens":null,"tokens":[" "],"next_classes":null,"next_tokens":null,"cost":0.5849625007211562}],"whitespace":{"consolidate":false,"default":" ","token_class":"whitespace"},"onmatch_rules":[{"prev_classes":["vowel"],"next_classes":["vowel"],"production":","}],"metadata":{"name":"example","version":"1.0.0","description":"An Example Bundled Transliterator","url":"https://github.com/seanpue/graphtransliterator/tree/master/transliterator/sample","author":"Author McAuthorson","author_email":"author_mcauthorson@msu.edu","license":"MIT License","keywords":["example"],"project_urls":{"Documentation":"https://github.com/seanpue/graphtransliterator/tree/master/graphtransliterator/transliterators/example","Source":"https://github.com/seanpue/graphtransliterator/tree/graphtransliterator/transliterators/example","Tracker":"https://github.com/seanpue/graphtransliterator/issues"}},"ignore_errors":false,"onmatch_rules_lookup":{"a":{"a":[0]}},"tokens_by_class":{"vowel":["a"],"whitespace":[" "],"consonant":["b"]},"graph":{"edge":{"0":{"1":{"token":"b","cost":0.22239242133644802},"3":{"token":"a","cost":0.5849625007211562},"6":{"token":" ","cost":0.5849625007211562}},"1":{"2":{"cost":0.22239242133644802,"constraints":{"prev_classes":["consonant"],"prev_tokens":["a"],"next_tokens":["a"],"next_classes":["consonant"]}},"5":{"cost":0.5849625007211562}},"3":{"4":{"cost":0.5849625007211562}},"6":{"7":{"cost":0.5849625007211562}}},"node":[{"type":"Start","ordered_children":{"b":[1],"a":[3]," ":[6]}},{"type":"token","token":"b","ordered_children":{"__rules__":[2,5]}},{"type":"rule","rule_key":0,"rule":{"production":"!B!","prev_classes":["consonant"],"prev_tokens":["a"],"tokens":["b"],"next_tokens":["a"],"next_classes":["consonant"],"cost":0.22239242133644802},"accepting":true,"ordered_children":{}},{"type":"token","token":"a","ordered_children":{"__rules__":[4]}},{"type":"rule","rule_key":1,"rule":{"production":"A","prev_classes":null,"prev_tokens":null,"tokens":["a"],"next_tokens":null,"next_classes":null,"cost":0.5849625007211562},"accepting":true,"ordered_children":{}},{"type":"rule","rule_key":2,"rule":{"production":"B","prev_classes":null,"prev_tokens":null,"tokens":["b"],"next_tokens":null,"next_classes":null,"cost":0.5849625007211562},"accepting":true,"ordered_children":{}},{"type":"token","token":" ","ordered_children":{"__rules__":[7]}},{"type":"rule","rule_key":3,"rule":{"production":" ","prev_classes":null,"prev_tokens":null,"tokens":[" "],"next_tokens":null,"next_classes":null,"cost":0.5849625007211562},"accepting":true,"ordered_children":{}}],"edge_list":[[0,1],[1,2],[0,3],[3,4],[1,5],[0,6],[6,7]]},"tokenizer_pattern":"(a|\\\\ |b)","graphtransliterator_version":"0.4.3"}')},function(e,t,s){"use strict";class n extends Error{}class r extends n{constructor(e){super(e),this.name="NoMatchingTransliterationRuleError"}}class o extends n{constructor(e){super(e),this.name="UnrecognizableInputTokenError"}}class l{constructor(e){this.tokens=e.tokens,this.rules=e.rules,this.whitespace=e.whitespace,this.onmatchRules=e.onmatch_rules,this.onmatchRulesLookup=e.onmatch_rules_lookup,this.metadata=e.metadata,this.tokensByClass=e.tokens_by_class,this.graph=e.graph,this.tokenizerPattern=e.tokenizer_pattern,this.ignoreErrors=e.ignore_errors,this.checkAmbiguity=e.check_ambiguity,this.version=e.version,this.coverage=e.coverage,this.tokenizer=RegExp(this.tokenizerPattern,"g"),this.lastRuleKeys=[],this.lastInputDetails=[],this.lastInputTokens=[],this.lastRuleKeys=[],this.lastHasErrors=!1}get lastMatchedRules(){return this.lastRuleKeys.map(e=>this.rules[e])}get lastMatchedRuleTokens(){return this.lastRuleKeys.map(e=>this.rules[e].tokens)}isWhitespace(e){return this.tokens[e].includes(this.whitespace.token_class)}static fromDict(e){return new l(e)}tokenize(e){let t=this.tokenizer;t.lastIndex=0;for(var s=[{token:this.whitespace.default}],n=!0;t.lastIndex<e.length;){var r=t.lastIndex;let o=t.exec(e);if(null===o)s.push({matched:!1,startIndex:r,endIndex:e.length,string:e.substring(r,e.length),token:this.whitespace.default}),t.lastIndex=e.length;else{o.index>r&&s.push({matched:!1,startIndex:r,endIndex:o.index,string:e.substring(r,o.index),token:this.whitespace.default});let l=o[0];if(this.whitespace.consolidate)if(this.isWhitespace(l)){if(l=this.whitespace.default,n){let e=s[s.length-1].string;s[s.length-1].string=e?e+o[0]:o[0];continue}n=!0}else n=!1;s.push({matched:!0,startIndex:o.index,endIndex:t.lastIndex,string:o[0],token:l})}}if(this.whitespace.consolidate&&s.length>1&&!0===s[s.length-1].matched&&this.isWhitespace(s[s.length-1].token)){let e=s.pop();s.push({token:this.whitespace.default,string:e.string})}else s.push({token:this.whitespace.default});return s}matchConstraints(e,t,s,n){let r=e.constraints;if(void 0===r)return!0;for(let[e,o]of Object.entries(r))if("prev_tokens"===e){let e=s;if(e-=t.rule.tokens.length,e-=o.length,!this.matchTokens(e,o,n,!0,!1,!1))return!1}else if("next_tokens"===e){let e=s;if(!this.matchTokens(e,o,n,!1,!0,!1))return!1}else if("prev_classes"===e){let e=s;e-=t.rule.tokens.length;let l=r.prev_tokens;if(l&&(e-=l.length),e-=o.length,!this.matchTokens(e,o,n,!0,!1,!0))return!1}else if("next_classes"===e){let e=s,t=r.next_tokens;if(t&&(e+=t.length),!this.matchTokens(e,o,n,!1,!0,!0))return!1}return!0}matchTokens(e,t,s,n,r,o){if(n&&e<0)return!1;if(r&&e+t.length>s.length)return!1;for(let n=0;n<t.length;n++)if(o){let r=this.tokens[s[e+n]];if(!(r&&r.indexOf(t[n])>=0))return!1}else if(s[e+n]!==t[n])return!1;return!0}matchAt(e,t,s=!1){let n=this.graph,r=n.node,o=n.edge;var l=[],a=[];function i(e,s){let n=[],o=r[e].ordered_children;if(o)if(n=o[t[s]],n)n.slice().reverse().forEach((function(t){a.unshift([t,e,s])}));else{let t=o.__rules__;t&&t.slice().reverse().forEach((function(t){a.unshift([t,e,s])}))}}for(i(0,e);a.length>0;){let[e,n,c]=a.shift(),u=r[e],h=o[n][e];if(u.accepting&&this.matchConstraints(h,u,c,t)){if(s){l.push(u.rule_key);continue}return u.rule_key}c<t.length-1&&(c+=1),i(e,c)}if(s)return l}matchAllAt(e,t){return this.matchAt(e,t,!0)}transliterate(e){let t=this.tokenize(e),s=Boolean(t.find(e=>!1===e.matched));if(s){let s="Unrecognized tokens: "+t.filter(e=>!1===e.matched).map(e=>'"'+e.string+'" at pos '+e.startIndex).join(", ")+' of "'+e+'"';if(!this.ignoreErrors)throw new o(s);console.log(s)}let n=t.map(e=>e.token);this.lastInputDetails=t,this.lastInputTokens=n,this.lastRuleKeys=[],this.lastHasErrors=s;let l=1,a="";for(;l<n.length-1;){let s=this.matchAt(l,n);if(!s){let s="No matching transliteration rule at pos "+t[l].startIndex+' of "'+e+'"';if(this.ignoreErrors){console.log(s),l+=1;continue}throw new r(s)}this.lastRuleKeys.push(s);let o=this.rules[s],c=o.tokens;if(this.onmatchRules){let e,t=n[l-1],s=n[l],r=this.onmatchRulesLookup[s];if(r&&(e=r[t]),e)for(var i=0;i<e.length;i++){let t=e[i],s=this.onmatchRules[t];if(this.matchTokens(l-s.prev_classes.length,s.prev_classes,n,!0,!1,!0)&&this.matchTokens(l,s.next_classes,n,!1,!0,!0)){a+=s.production;break}}}a+=o.production,l+=c.length}return a}}e.exports={GraphTransliterator:l,GraphTransliteratorError:n,NoMatchingTransliterationRuleError:r,UnrecognizableInputTokenError:o}}]);