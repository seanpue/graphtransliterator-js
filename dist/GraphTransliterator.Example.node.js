!function(e){var t={};function s(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=t,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=0)}([function(e,t,s){const r=s(1),n=s(2).default.GraphTransliterator.fromDict(r);e.exports=n},function(e){e.exports=JSON.parse('{"tokens":{"a":["vowel"]," ":["whitespace"],"b":["consonant"]},"rules":[{"production":"!B!","prev_classes":["consonant"],"prev_tokens":["a"],"tokens":["b"],"next_classes":["consonant"],"next_tokens":["a"],"cost":0.22239242133644802},{"production":"A","prev_classes":null,"prev_tokens":null,"tokens":["a"],"next_classes":null,"next_tokens":null,"cost":0.5849625007211562},{"production":"B","prev_classes":null,"prev_tokens":null,"tokens":["b"],"next_classes":null,"next_tokens":null,"cost":0.5849625007211562},{"production":" ","prev_classes":null,"prev_tokens":null,"tokens":[" "],"next_classes":null,"next_tokens":null,"cost":0.5849625007211562}],"whitespace":{"consolidate":false,"token_class":"whitespace","default":" "},"onmatch_rules":[{"prev_classes":["vowel"],"next_classes":["vowel"],"production":","}],"metadata":{"name":"example","version":"1.0.0","description":"An Example Bundled Transliterator","url":"https://github.com/seanpue/graphtransliterator/tree/master/transliterator/sample","author":"Author McAuthorson","author_email":"author_mcauthorson@msu.edu","license":"MIT License","keywords":["example"],"project_urls":{"Documentation":"https://github.com/seanpue/graphtransliterator/tree/master/graphtransliterator/transliterators/example","Source":"https://github.com/seanpue/graphtransliterator/tree/graphtransliterator/transliterators/example","Tracker":"https://github.com/seanpue/graphtransliterator/issues"}},"ignore_errors":false,"onmatch_rules_lookup":{"a":{"a":[0]}},"tokens_by_class":{"vowel":["a"],"whitespace":[" "],"consonant":["b"]},"graph":{"node":[{"type":"Start","ordered_children":{"b":[1],"a":[3]," ":[6]}},{"type":"token","token":"b","ordered_children":{"__rules__":[2,5]}},{"type":"rule","rule_key":0,"accepting":true,"ordered_children":{}},{"type":"token","token":"a","ordered_children":{"__rules__":[4]}},{"type":"rule","rule_key":1,"accepting":true,"ordered_children":{}},{"type":"rule","rule_key":2,"accepting":true,"ordered_children":{}},{"type":"token","token":" ","ordered_children":{"__rules__":[7]}},{"type":"rule","rule_key":3,"accepting":true,"ordered_children":{}}],"edge_list":[[0,1],[1,2],[0,3],[3,4],[1,5],[0,6],[6,7]],"edge":{"0":{},"1":{},"3":{},"6":{}}},"tokenizer_pattern":"(a|\\\\ |b)","graphtransliterator_version":"1.0.5"}')},function(e,t,s){"use strict";class r extends Error{}class n extends r{constructor(e){super(e),this.name="NoMatchingTransliterationRuleError"}}class o extends r{constructor(e){super(e),this.name="UnrecognizableInputTokenError"}}class i{constructor(e){this.tokens=e.tokens,this.rules=e.rules,this.whitespace=e.whitespace,this.onmatchRules=e.onmatch_rules,this.onmatchRulesLookup=e.onmatch_rules_lookup,this.metadata=e.metadata,this.tokensByClass=e.tokens_by_class,this.graph=e.graph,this.tokenizerPattern=e.tokenizer_pattern,this.ignoreErrors=e.ignore_errors,this.checkAmbiguity=e.check_ambiguity,this.version=e.version,this.coverage=e.coverage,this.tokenizer=RegExp(this.tokenizerPattern,"g"),this.lastRuleKeys=[],this.lastInputDetails=[],this.lastInputTokens=[],this.lastRuleKeys=[],this.lastHasErrors=!1}get lastMatchedRules(){return this.lastRuleKeys.map(e=>this.rules[e])}get lastMatchedRuleTokens(){return this.lastRuleKeys.map(e=>this.rules[e].tokens)}isWhitespace(e){return this.tokens[e].includes(this.whitespace.token_class)}static fromDict(e){return new i(e)}tokenize(e){let t=this.tokenizer;t.lastIndex=0;for(var s=[{token:this.whitespace.default}],r=!0;t.lastIndex<e.length;){var n=t.lastIndex;let o=t.exec(e);if(null===o)s.push({matched:!1,startIndex:n,endIndex:e.length,string:e.substring(n,e.length),token:this.whitespace.default}),t.lastIndex=e.length;else{o.index>n&&s.push({matched:!1,startIndex:n,endIndex:o.index,string:e.substring(n,o.index),token:this.whitespace.default});let i=o[0];if(this.whitespace.consolidate)if(this.isWhitespace(i)){if(i=this.whitespace.default,r){let e=s[s.length-1].string;s[s.length-1].string=e?e+o[0]:o[0];continue}r=!0}else r=!1;s.push({matched:!0,startIndex:o.index,endIndex:t.lastIndex,string:o[0],token:i})}}if(this.whitespace.consolidate&&s.length>1&&!0===s[s.length-1].matched&&this.isWhitespace(s[s.length-1].token)){let e=s.pop();s.push({token:this.whitespace.default,string:e.string})}else s.push({token:this.whitespace.default});return s}matchConstraints(e,t,s,r){let n=e.constraints;if(void 0===n)return!0;for(let[e,o]of Object.entries(n))if("prev_tokens"===e){let e=s;if(e-=t.rule.tokens.length,e-=o.length,!this.matchTokens(e,o,r,!0,!1,!1))return!1}else if("next_tokens"===e){let e=s;if(!this.matchTokens(e,o,r,!1,!0,!1))return!1}else if("prev_classes"===e){let e=s;e-=t.rule.tokens.length;let i=n.prev_tokens;if(i&&(e-=i.length),e-=o.length,!this.matchTokens(e,o,r,!0,!1,!0))return!1}else if("next_classes"===e){let e=s,t=n.next_tokens;if(t&&(e+=t.length),!this.matchTokens(e,o,r,!1,!0,!0))return!1}return!0}matchTokens(e,t,s,r,n,o){if(r&&e<0)return!1;if(n&&e+t.length>s.length)return!1;for(let r=0;r<t.length;r++)if(o){let n=this.tokens[s[e+r]];if(!(n&&n.indexOf(t[r])>=0))return!1}else if(s[e+r]!==t[r])return!1;return!0}matchAt(e,t,s=!1){let r=this.graph,n=r.node,o=r.edge;var i=[],l=[];function a(e,s){let r=[],o=n[e].ordered_children;if(o)if(r=o[t[s]],r)r.slice().reverse().forEach((function(t){l.unshift([t,e,s])}));else{let t=o.__rules__;t&&t.slice().reverse().forEach((function(t){l.unshift([t,e,s])}))}}for(a(0,e);l.length>0;){let[e,r,h]=l.shift(),u=n[e],c=o[r][e];if(u.accepting&&this.matchConstraints(c,u,h,t)){if(s){i.push(u.rule_key);continue}return u.rule_key}h<t.length-1&&(h+=1),a(e,h)}if(s)return i}matchAllAt(e,t){return this.matchAt(e,t,!0)}transliterate(e){let t=this.tokenize(e),s=Boolean(t.find(e=>!1===e.matched));if(s){let s="Unrecognized tokens: "+t.filter(e=>!1===e.matched).map(e=>'"'+e.string+'" at pos '+e.startIndex).join(", ")+' of "'+e+'"';if(!this.ignoreErrors)throw new o(s);console.log(s)}let r=t.map(e=>e.token);this.lastInputDetails=t,this.lastInputTokens=r,this.lastRuleKeys=[],this.lastHasErrors=s;let i=1,l="";for(;i<r.length-1;){let s=this.matchAt(i,r);if(!s){let s="No matching transliteration rule at pos "+t[i].startIndex+' of "'+e+'"';if(this.ignoreErrors){console.log(s),i+=1;continue}throw new n(s)}this.lastRuleKeys.push(s);let o=this.rules[s],h=o.tokens;if(this.onmatchRules){let e,t=r[i-1],s=r[i],n=this.onmatchRulesLookup[s];if(n&&(e=n[t]),e)for(var a=0;a<e.length;a++){let t=e[a],s=this.onmatchRules[t];if(this.matchTokens(i-s.prev_classes.length,s.prev_classes,r,!0,!1,!0)&&this.matchTokens(i,s.next_classes,r,!1,!0,!0)){l+=s.production;break}}}l+=o.production,i+=h.length}return l}}e.exports={GraphTransliterator:i,GraphTransliteratorError:r,NoMatchingTransliterationRuleError:n,UnrecognizableInputTokenError:o}}]);